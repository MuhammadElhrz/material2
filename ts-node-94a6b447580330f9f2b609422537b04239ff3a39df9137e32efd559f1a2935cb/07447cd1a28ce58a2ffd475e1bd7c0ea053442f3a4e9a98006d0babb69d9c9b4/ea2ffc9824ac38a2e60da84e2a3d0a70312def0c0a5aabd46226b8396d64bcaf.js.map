{"version":3,"file":"/mnt/c/basidia/material2/tools/gulp/util/rollup-helper.ts","sources":["/mnt/c/basidia/material2/tools/gulp/util/rollup-helper.ts"],"names":[],"mappings":";AAAA,0CAA4C;AAE5C,6DAA6D;AAC7D,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAEjC,IAAM,cAAc,GAAG;IACrB,uBAAuB;IACvB,qBAAqB,EAAE,eAAe;IACtC,eAAe,EAAE,SAAS;IAC1B,iBAAiB,EAAE,WAAW;IAC9B,gBAAgB,EAAE,UAAU;IAC5B,eAAe,EAAE,SAAS;IAC1B,2BAA2B,EAAE,oBAAoB;IACjD,mCAAmC,EAAE,2BAA2B;IAChE,sCAAsC,EAAE,+BAA+B;IAEvE,oBAAoB;IACpB,cAAc,EAAE,IAAI;IACpB,+BAA+B,EAAE,eAAe;IAChD,8BAA8B,EAAE,eAAe;IAC/C,wBAAwB,EAAE,eAAe;IACzC,2BAA2B,EAAE,eAAe;IAC5C,2BAA2B,EAAE,eAAe;IAC5C,6BAA6B,EAAE,yBAAyB;IACxD,6BAA6B,EAAE,yBAAyB;IACxD,uBAAuB,EAAE,yBAAyB;IAClD,0BAA0B,EAAE,yBAAyB;IACrD,sBAAsB,EAAE,yBAAyB;IACjD,yBAAyB,EAAE,yBAAyB;IACpD,2BAA2B,EAAE,yBAAyB;IACtD,yBAAyB,EAAE,yBAAyB;IACpD,yBAAyB,EAAE,yBAAyB;IACpD,6BAA6B,EAAE,yBAAyB;IACxD,6BAA6B,EAAE,yBAAyB;IACxD,iBAAiB,EAAE,IAAI;CACxB,CAAC;AASF,0DAA0D;AAC1D,4BAAmC,MAAoB;IACrD,IAAI,aAAa,GAAG;QAClB,OAAO,EAAE,MAAM;QACf,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;QACrC,KAAK,EAAE,MAAM,CAAC,KAAK;KACpB,CAAC;IAEF,IAAI,YAAY,GAAG;QACjB,4FAA4F;QAC5F,QAAQ,EAAE,EAAE;QACZ,UAAU,EAAE,MAAM,CAAC,UAAU,IAAI,aAAa;QAC9C,MAAM,EAAE,0BAAc;QACtB,MAAM,EAAE,MAAM,CAAC,MAAM;QACrB,IAAI,EAAE,MAAM,CAAC,IAAI;QACjB,OAAO,EAAE,cAAc;KACxB,CAAC;IAEF,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAC,MAAW,IAAK,OAAA,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,EAA1B,CAA0B,CAAC,CAAC;AACxF,CAAC;AAlBD,gDAkBC","sourcesContent":["import {LICENSE_BANNER} from '../constants';\n\n// There are no type definitions available for these imports.\nconst rollup = require('rollup');\n\nconst ROLLUP_GLOBALS = {\n  // Angular dependencies\n  '@angular/animations': 'ng.animations',\n  '@angular/core': 'ng.core',\n  '@angular/common': 'ng.common',\n  '@angular/forms': 'ng.forms',\n  '@angular/http': 'ng.http',\n  '@angular/platform-browser': 'ng.platformBrowser',\n  '@angular/platform-browser-dynamic': 'ng.platformBrowserDynamic',\n  '@angular/platform-browser/animations': 'ng.platformBrowser.animations',\n\n  // Rxjs dependencies\n  'rxjs/Subject': 'Rx',\n  'rxjs/add/observable/fromEvent': 'Rx.Observable',\n  'rxjs/add/observable/forkJoin': 'Rx.Observable',\n  'rxjs/add/observable/of': 'Rx.Observable',\n  'rxjs/add/observable/merge': 'Rx.Observable',\n  'rxjs/add/observable/throw': 'Rx.Observable',\n  'rxjs/add/operator/auditTime': 'Rx.Observable.prototype',\n  'rxjs/add/operator/toPromise': 'Rx.Observable.prototype',\n  'rxjs/add/operator/map': 'Rx.Observable.prototype',\n  'rxjs/add/operator/filter': 'Rx.Observable.prototype',\n  'rxjs/add/operator/do': 'Rx.Observable.prototype',\n  'rxjs/add/operator/share': 'Rx.Observable.prototype',\n  'rxjs/add/operator/finally': 'Rx.Observable.prototype',\n  'rxjs/add/operator/catch': 'Rx.Observable.prototype',\n  'rxjs/add/operator/first': 'Rx.Observable.prototype',\n  'rxjs/add/operator/startWith': 'Rx.Observable.prototype',\n  'rxjs/add/operator/switchMap': 'Rx.Observable.prototype',\n  'rxjs/Observable': 'Rx'\n};\n\nexport type BundleConfig = {\n  entry: string;\n  dest: string;\n  format: string;\n  moduleName: string;\n};\n\n/** Creates a rollup bundles of the Material components.*/\nexport function createRollupBundle(config: BundleConfig): Promise<any> {\n  let bundleOptions = {\n    context: 'this',\n    external: Object.keys(ROLLUP_GLOBALS),\n    entry: config.entry\n  };\n\n  let writeOptions = {\n    // Keep the moduleId empty because we don't want to force developers to a specific moduleId.\n    moduleId: '',\n    moduleName: config.moduleName || 'ng.material',\n    banner: LICENSE_BANNER,\n    format: config.format,\n    dest: config.dest,\n    globals: ROLLUP_GLOBALS,\n  };\n\n  return rollup.rollup(bundleOptions).then((bundle: any) => bundle.write(writeOptions));\n}\n"]}