{"version":3,"file":"/mnt/c/basidia/material2/tools/gulp/tasks/aot.ts","sources":["/mnt/c/basidia/material2/tools/gulp/tasks/aot.ts"],"names":[],"mappings":";AAAA,6BAA0B;AAC1B,qCAAkC;AAClC,0CAAwD;AACxD,qDAAgE;AAChE,6BAA0B;AAE1B,IAAM,YAAY,GAAG,WAAI,CAAC,wBAAY,EAAE,mBAAmB,CAAC,CAAC;AAE7D,6FAA6F;AAC7F,WAAI,CAAC,UAAU,EAAE,2BAAY,CAAC,cAAc,EAAE,kBAAkB,EAAE,kBAAkB,CAAC,CAAC,CAAC;AAEvF,kFAAkF;AAClF,8DAA8D;AAC9D,WAAI,CAAC,kBAAkB,EAAE,cAAM,OAAA,mBAAQ,CAAC,wBAAY,EAAE,WAAI,CAAC,wBAAY,EAAE,UAAU,CAAC,CAAC,EAAtD,CAAsD,CAAC,CAAC;AAEvF,sFAAsF;AACtF,WAAI,CAAC,WAAW,EAAE,2BAAY,CAAC,UAAU,EAAE,kBAAkB,CAAC,CAAC,CAAC;AAEhE,sFAAsF;AACtF,WAAI,CAAC,kBAAkB,EAAE,2BAAY,CACnC,uBAAuB,EAAE,KAAK,EAAE,CAAC,IAAI,EAAE,YAAY,CAAC,CACrD,CAAC,CAAC","sourcesContent":["import {task} from 'gulp';\nimport {copySync} from 'fs-extra';\nimport {DIST_DEMOAPP, DIST_RELEASE} from '../constants';\nimport {sequenceTask, execNodeTask} from '../util/task_helpers';\nimport {join} from 'path';\n\nconst tsconfigFile = join(DIST_DEMOAPP, 'tsconfig-aot.json');\n\n/** Builds the demo-app and library. To be able to run NGC, apply the metadata workaround. */\ntask('aot:deps', sequenceTask('build:devapp', ':package:release', 'aot:copy-release'));\n\n// As a workaround for https://github.com/angular/angular/issues/12249, we need to\n// copy the Material ESM output inside of the demo-app output.\ntask('aot:copy-release', () => copySync(DIST_RELEASE, join(DIST_DEMOAPP, 'material')));\n\n/** Build the demo-app and a release to confirm that the library is AOT-compatible. */\ntask('aot:build', sequenceTask('aot:deps', 'aot:compiler-cli'));\n\n/** Build the demo-app and a release to confirm that the library is AOT-compatible. */\ntask('aot:compiler-cli', execNodeTask(\n  '@angular/compiler-cli', 'ngc', ['-p', tsconfigFile]\n));\n"]}